version: 0.1.0
endpoints:
  - name: default
    type: REST
    port: 8000
    context: /
    schemaFilePath: openapi.yaml
    security:
      authTypes:
        - OAuth2
    cors:
      enabled: true
      allowOrigins:
        - "*"
    resources:
      - path: /health
        method: GET
        secured: false
      - path: /api/v1/model
        method: GET
        secured: true
      - path: /api/v1/generate
        method: POST
        secured: true
  - name: "Health Check"
    basePath: /health
    secured: false
    operations:
      - target: /health
        verb: GET
        secured: false
        summary: "Health check endpoint"
        responses:
          - code: 200
            description: "Service is healthy"
  - name: "Model Info"
    basePath: /api/v1/model
    secured: true
    operations:
      - target: /api/v1/model
        verb: GET
        secured: true
        summary: "Get model information"
        responses:
          - code: 200
            description: "Model information retrieved successfully"
          - code: 500
            description: "Internal server error"
  - name: "Code Generation"
    basePath: /api/v1/generate
    secured: true
    operations:
      - target: /api/v1/generate
        verb: POST
        secured: true
        summary: "Generate code using DeepSeek Coder"
        requestBody:
          required: true
          content:
            application/json:
              schema:
                type: object
                properties:
                  prompt:
                    type: string
                    description: "The prompt for code generation"
                  temperature:
                    type: number
                    description: "Temperature for generation (0.0 to 1.0)"
                  max_tokens:
                    type: integer
                    description: "Maximum tokens to generate"
                required:
                  - prompt
        responses:
          - code: 200
            description: "Code generated successfully"
          - code: 400
            description: "Invalid request parameters"
          - code: 500
            description: "Internal server error" 